<!DOCTYPE html>
<html>

	<head>

		<meta charset="utf-8">

		<link href="http://fonts.googleapis.com/css?family=Arvo:regular,italic,bold" rel="stylesheet" type="text/css">

		<style>

			body {
				width: 80%;
				margin: 3em;
				background: #fff;
				font-family: Arvo, Helvetica, sans-serif;
				font-size: 1.5em;
				line-height: 1.5em;
			}

			h1, h2, h3, h4 {
				margin: 2em 0 1em 0;
			}

			h4 {
				margin: 0 0 0.5em 0;
			}

			form {
				margin: 0 0 3em 0;
			}

			fieldset {
				margin: 0;
				padding: 0;
				border: none;
			}

			textarea {
				width: 100%;
				height: 15em;
				font-family: monospace;
				font-size: .7em;
			}

			input[type=checkbox] {
				vertical-align: middle;
			}

			#InputFields {
				background: #ccc;
				padding: 0.5em;
			}

			#OutputFields {
				clear: left;
				background: #cfc;
				padding: 0.5em;
			}

			#Labels {
				padding: 0;
			}

			#InputLabel {
				float: left;
				background: #ccc;
				padding: 0.25em 0.5em;
			}

			#OutputLabel {
				float: right;
				background: #cfc;
				padding: 0.25em 0.5em;
			}

			#OutputLink {
				font-size: 0.9em;
			}

			#ErrorOutput {
				overflow: hidden;
				padding: 0.25em 0.5em;
				text-align: center;
				background-color: #fcc;
				color: #f00;
			}

			.options {
				margin: 2em 0;
				padding: 1em;
				border: solid 1px #ccc;
			}

			.disabled {
				color: #9c9;
			}

			.disabled a {
				color: #9c9;
				cursor: default;
			}

			.pointer {
				cursor: pointer;
			}

		</style>

		<script src="build/browser-tool.js"></script>

		<title>Bookmarkleter</title>

	</head>

	<body>

		<header>
			<h2>Bookmarkleter</h2>
		</header>



		<p>You have JavaScript. You need a <a href="http://en.wikipedia.org/wiki/Bookmarklet">bookmarklet</a>. This does that.</p>

		<h3>Features</h3>

		<ul>
			<li>Validates and minifies code using <a href="https://github.com/mishoo/UglifyJS">UglifyJS</a></li>
			<li>URL-encodes special ASCII characters: [space], %, &quot;, &lt;, &gt;, #, @, &amp;, ?</li>
			<li>Optionally injects <a href="http://jquery.com">jQuery</a></li>
		</ul>

		<h3>Use it</h3>

		<form onsubmit="return false;" ng-app="bookmarkleter">

			<fieldset id="InputFields">
				<textarea ng-model="input" id="Input" ng-change="updateBookmarklet()"></textarea>
			</fieldset>

			<fieldset id="Labels">
				<label id="InputLabel" for="Input">JavaScript</label>
				<label id="OutputLabel" for="Output">Bookmarklet</label>
				<div id="ErrorOutput" ng-show="error">{{ error }}</div>
			</fieldset>

			<fieldset id="OutputFields">
				<textarea ng-bind="output" id="Output" wrap="hard" readonly></textarea>
				<div id="OutputLink" ng-class="output ? '' : 'disabled'">Drag this link to your bookmarks bar: <a id="OutputHref" ng-attr-href="{{ output }}">My Bookmarklet</a></div>
			</fieldset>

			<div class="options">

				<h4>Options</h4>

				<fieldset>
					<input class="pointer" type="checkbox" id="anonymize" ng-model="anonymize" ng-change="updateBookmarklet()"></input>
					<label class="pointer" for="anonymize">Place code in an anonymous wrapper function</label>
				</fieldset>

				<fieldset>
					<input class="pointer" type="checkbox" id="mangle" ng-model="mangleVars" ng-change="updateBookmarklet()"></input>
					<label class="pointer" for="mangle">Mangle variable names (using UglifyJS) to save space</label>
				</fieldset>

				<fieldset>
					<input class="pointer" type="checkbox" id="reqjq" ng-model="requiresJQuery" ng-change="updateBookmarklet()"></input>
					<label class="pointer" for="reqjq">Requires jQuery</label>
				</fieldset>

			</div>

		</form>

		<h3>License</h3>

		<p>This is free software. It is released to the public domain without warranty.</p>

		<div><a href="https://github.com/chriszarate/bookmarkleter"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a></div>

	</body>

</html>
